<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Monad Meme & Quiz Hub</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 700px; margin: auto; padding: 20px; }
  nav button { margin-right: 10px; padding: 8px 12px; cursor: pointer; }
  .hidden { display: none; }
  .meme, .quiz-question { border: 1px solid #ddd; padding: 10px; margin-bottom: 15px; }
  .correct { background-color: #d4edda; }
  .wrong { background-color: #f8d7da; }
  button.option { margin: 5px; }
</style>
</head>
<body>

<h1>Monad Meme & Quiz Hub</h1>
<nav>
  <button onclick="showSection('upload')">Upload Meme</button>
  <button onclick="showSection('gallery')">Meme Gallery</button>
  <button onclick="showSection('quiz')">Monad Quiz</button>
</nav>

<section id="upload" >
  <h2>Upload Your Meme</h2>
  <input type="text" id="imgUrl" placeholder="Image URL" style="width: 100%; margin-bottom: 8px;" />
  <input type="text" id="caption" placeholder="Caption" style="width: 100%; margin-bottom: 8px;" />
  <button onclick="addMeme()">Post Meme</button>
</section>

<section id="gallery" class="hidden">
  <h2>Meme Gallery</h2>
  <div id="memeList"></div>
</section>

<section id="quiz" class="hidden">
  <h2>Monad Quiz</h2>
  <div id="quizList"></div>
</section>

<script>
  let memes = [
    { url: "https://i.imgflip.com/265k.jpg", caption: "Monad Rocks!", votes: 2 },
    { url: "https://i.imgflip.com/1bij.jpg", caption: "Gas Fees be like...", votes: 4 }
  ];

  const quizQuestions = [
    {
      question: "What is Monad?",
      options: ["A Layer 1 blockchain", "A meme coin", "A DeFi protocol", "A crypto exchange"],
      answerIndex: 0
    },
    {
      question: "Monad supports which virtual machine?",
      options: ["EVM", "Bitcoin VM", "Solana VM", "Cardano VM"],
      answerIndex: 0
    },
    {
      question: "What is Monad's approximate TPS?",
      options: ["100", "10,000", "1,000,000", "500"],
      answerIndex: 1
    }
  ];

  function showSection(name) {
    document.getElementById('upload').classList.add('hidden');
    document.getElementById('gallery').classList.add('hidden');
    document.getElementById('quiz').classList.add('hidden');
    document.getElementById(name).classList.remove('hidden');
  }

  function renderMemes() {
    const container = document.getElementById('memeList');
    container.innerHTML = '';
    memes.forEach((meme, i) => {
      const div = document.createElement('div');
      div.className = 'meme';
      div.innerHTML = `
        <img src="${meme.url}" alt="meme" style="max-width: 100%;" />
        <p>${meme.caption}</p>
        <button onclick="voteMeme(${i})">üëç Vote (${meme.votes})</button>
      `;
      container.appendChild(div);
    });
  }

  function addMeme() {
    const url = document.getElementById('imgUrl').value.trim();
    const caption = document.getElementById('caption').value.trim();
    if (!url || !caption) {
      alert('Please enter image URL and caption');
      return;
    }
    memes.push({ url, caption, votes: 0 });
    document.getElementById('imgUrl').value = '';
    document.getElementById('caption').value = '';
    showSection('gallery');
    renderMemes();
  }

  function voteMeme(index) {
    memes[index].votes++;
    renderMemes();
  }

  function renderQuiz() {
    const container = document.getElementById('quizList');
    container.innerHTML = '';
    quizQuestions.forEach((q, qIndex) => {
      const div = document.createElement('div');
      div.className = 'quiz-question';
      div.innerHTML = `<p><b>${qIndex + 1}. ${q.question}</b></p>`;
      q.options.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.textContent = opt;
        btn.onclick = () => {
          if (btn.classList.contains('correct') || btn.classList.contains('wrong')) return;
          if (i === q.answerIndex) {
            btn.classList.add('correct');
          } else {
            btn.classList.add('wrong');
            // Highlight correct
            div.querySelectorAll('.option')[q.answerIndex].classList.add('correct');
          }
          // Disable all options for this question
          div.querySelectorAll('.option').forEach(b => b.disabled = true);
        };
        div.appendChild(btn);
      });
      container.appendChild(div);
    });
  }

  // Initialize gallery with memes and quiz
  renderMemes();
  renderQuiz();
  showSection('upload'); // default section shown
</script>
</body>
</html>
